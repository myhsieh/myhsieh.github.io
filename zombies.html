<!DOCTYPE html>
<html>
    <head>
        <title>Zombie</title>
        <style>
            #scoreboard{
                text-align: center;
                color:aliceblue;
            }
            #endbutton{
                position:fixed;
                bottom:10%;
                left:50%;
            }
            #back{
                background-image: url("./images/background.jpg");
                background-size: cover;
            }
        </style>
    </head>
    <body id="back">
        <div id="scoreboard">
            <h1 id="score"></h1>
        </div>

        <div id="game">
            <img id="zombie" onclick="die()">
            <img id="explosion">
        </div>

        <div id="endbutton">
            <button id="end" onclick="end()">END</button>
        </div>

        <script>
            let score = -1;
            let w = 0;
            let h = 0;
            
            begin();
            function begin(){
                ingame();
            }
            function ingame(){
                setTimeout(function(){next()}, 2000);
                score++;
                document.getElementById("score").innerHTML = "Score: " + score;
            }
            function die(){
                document.getElementById("zombie").style.display = "none";
                zombieAudio();
                explode(w, h);
                ingame();
            }
            function next(){
                w = (window.innerWidth * 0.8) * Math.random();
                h = (window.innerHeight * 0.5) * Math.random();
                document.getElementById("zombie").style.display = "block";
                document.getElementById("zombie").src="./images/zombie.png";
                document.getElementById("zombie").style.marginLeft = w + "px";
                document.getElementById("zombie").style.marginTop = h + "px";
            }
            function explode(width, height){
                document.getElementById("explosion").style.display = "block";
                document.getElementById("explosion").src="./images/explosion.gif";
                document.getElementById("explosion").style.marginLeft = width + "px";
                document.getElementById("explosion").style.marginTop = height + "px";
                setTimeout(removeExplosion, 400);
            }
            function removeExplosion(){
                document.getElementById("explosion").style.display = "none";
            }
            function end(){
                score = -1;
                document.getElementById("zombie").style.display = "none";
                document.getElementById("explosion").style.display = "none";
                begin();
            }
            function zombieAudio(){
                let audio = new Audio("./images/pain.mp3");
                audio.play();
            }
        </script>
    </body>
</html>